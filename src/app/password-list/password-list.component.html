
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
<app-navbar></app-navbar>



<div class="container mx-auto my-16">
  <div *ngIf="isSuccess" class="p-5 my-2 bg-teal-100 text-teal-900">
    {{successMessage}}
  </div>
  <div class="grid grid-cols-2 gap-5">
<div class="shadow-lg border-2 border-gray-900">
  <img [src]="siteImgUrl" alt="">
  <h3 class="text-xl font-bold p-3">{{siteName}}</h3>
  <div class="grid gird-cols-3 gap-3 my-1 p-3">
<div class="col-span-1 px-3 bg-blue-200 text-blue-600 rounded-lg text-sm">
{{  siteUrl
}}</div>
  </div>
</div>



<div class="px-20 py-20  my-5  mb-10    border-4 border-gray-900">
  <h2 class="text-3xl text-center">{{formState}} User & Password</h2>
  <p class="text-center">You can add new user & password from the below form</p>
  <form #f="ngForm" (ngSubmit)="onSubmit(f.value)" action="">

    <div class="flex flex-col">
        <label for="" class="text-lg font-medium mb-2">Email</label>
        <input  [(ngModel)]="email" type="email" name="email" class="border-2 border-gray-900 p-2 w-full rounded-lg">
  </div>
  <div class="flex flex-col">
    <label for="" class="text-lg font-medium mb-2">Username</label>
    <input #inputFocus [(ngModel)]="username" type="text" name="username" class="border-2 border-gray-900 p-2 w-full rounded-lg">
</div>
<div class="flex flex-col">
  <label for="" class="text-lg font-medium mb-2">Password</label>
  <div class="relative inline-block">
    <input [(ngModel)]="password"  [type]="showPassword ? 'text' : 'password'" name="password" class="border-2 border-gray-900 p-2 w-full rounded-lg ">
    <div *ngIf="password!==''&&password!==undefined">
    <i   (click)="showMenu()" [ngClass]="showPassword?'uil uil-eye-slash':'uil uil-eye'" class=" absolute bottom-5 hover:cursor-pointer  text-gray-900 right-4 translate-y-1/2 text-2xl"></i>
  </div>
  </div>
</div>

<button class="mt-10 mx-0.5 px-5 py-3 text-sm bg-gray-900 text-white shadow rounded-md">
  {{formState}} Password
</button>
  </form>
</div>
  </div>





  <div class="gird grid-cols-1 mt-10">
    <table class="border-2 border-gray-900 w-full">
      <thead class="">
        <tr class="bg-gray-200  p-52 h-14 text-left">
          <th class="border-2 border-gray-900 p-3">Email</th>
          <th class="border-2 border-gray-900 p-3">Username</th>
          <th class="border-2 border-gray-900 p-3 ">Password</th>
          <th class="border-2 border-gray-900 p-3">Action</th>

        </tr>
      </thead>


      <tbody>
        <tr class="h-14" *ngFor="let password of passwordList  ; let i = index">
<td class="border-2 border-gray-900 p-3">{{password.email}}</td>
<td class="border-2 border-gray-900 p-3">{{password.username}}</td>
<td class="border-2 border-gray-900 p-3 ">{{password.password}}  <button (click)="onDecrypt(password.password,i)" class="mx-0.5 px-5 py-1 text-sm bg-red-500 text-white shadow rounded-lg">{{Crypt[i]}}</button></td>
<td class="border-2 border-gray-900 p-3">
  <button class="mx-0.5 px-5 py-3 text-sm bg-gray-900 text-white shadow rounded-md" (click)="editPassword(password.email,password.username,password.password,password.id)">Edit</button>
  <button class="mx-0.5 px-5 py-3 text-sm border-gray-900 text-gray-900 border-2 shadow rounded-md hover:text-red-700" (click)="deletePassword(password.id)">Delete</button>

</td>

        </tr>
      </tbody>
    </table>
  </div>



</div>
